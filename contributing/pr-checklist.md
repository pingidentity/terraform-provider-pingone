# Pull Request Checklist

The following provides the steps to check/run to prepare for creating a PR to the `main` branch.  PRs that follow these checklists will merge faster than PRs that do not

## Code Changes

- [ ] **PR Scope**. To ensure maintainer reviews are as quick and efficient as possible, please separate support for entities into separate PRs.  For example, support for a `pingone_population` resource and data source can go in the same PR, however support for `pingone_population` and `pingone_group` should be separated.

- [ ] **PR Name**. To assist the maintainers in assessing PRs for priority, please provide a descriptive name of the functionality being supported.  For example: `Add support for Risk Policies`

- [ ] **Resource naming**. _Relevant for new functions/resources/data sources only_. Resources follow the naming convention of `pingone_<service>_<name>` (e.g. `pingone_risk_policy` where service is `risk` and the name of the resource is `policy`).  This is to ensure better readability and separation of capability between PingOne services.  Where the resource is part of PingOne base (ie, a shared component between all services), the naming convention is `pingone_<name>` (e.g. `pingone_environment`)

- [ ] **Unit tests**. Where a code function performs work internally to a module, but has an external scope (ie, a function with an initial capital letter `func MyFunction`), unit tests should ideally be created.  Not all functions require a unit test, if in doubt please ask.  Before submitting the PR, the result of `make test` should be successful

```shell
$ make test
```

- [ ] **Acceptance tests**. Where a new resource is being created that will ultimately create or retrieve PingOne configuration data, acceptance tests will need to be created.  Please use the existing test scripts for examples.  Before submitting the PR, the result of `make testacc` should be successful

```shell
$ make testacc
```

- [ ] **Build**. To make sure the provider builds with the new code changes, run `make build`

```shell
$ make build
```

- [ ] **Terraform HCL Examples**. New/modified resources and data sources should have appropriate Terraform HCL examples created/altered and stored in the `examples` directory.  These are used in the documentation autogeneration routine.  Further information and examples of how these are created can be found in the [examples README.md](../examples/README.md)

- [ ] **Documentation**. The Terraform documentation is autogenerated.  Each resource and each schema field should have a `description` tag to describe it's purpose.  In addition, examples should be created and stored in the `examples` directory.  These are used in the autogeneration routine.  Once code (including `description` fields) and examples are finished, generate the documentation:

```shell
$ make generate
```

- [ ] **Code Lint**. When PRs are raised, the structure, readability and overall cleanliness of code is tested.  Before raising the PR you can view the output of these tests (and correct where needed) by running the following commands.  The linter tool settings are continually tuned, if you have any feedback or suggestions please do provide comments as these will help the maintainers streamline the contribution process

```shell
$ make vet
$ make lint
```

- [ ] **Changelog summary file**.  The changelog process we follow means that `CHANGELOG.md` does _not_ need to be updated in the PR.  Maintainers generate the `CHANGELOG.md` file based on changelog summaries submitted to the `.changelog` directory.  Please see the [Changelog process](changelog-process.md) guide for more information.


## Terraform Documentation Changes

The Terraform documentation is autogenerated and as such, manual updates to the `docs` directory will be overwritten by the autogeneration routine.  Each resource and each schema field in code should have a `description` tag to describe it's purpose, which are used to generate the documentation.  Where custom documentation is required (e.g., custom advice notes or guides), templates can be created/modified and stored in the `templates` directory of this repository.

Documentation changes are generally merged quicker than code changes as there is less to review.

- [ ] **Documentation**. Once code changes (ie, any description changes) or template changes are finished, generate the documentation with the following command.

```shell
$ make generate
```
