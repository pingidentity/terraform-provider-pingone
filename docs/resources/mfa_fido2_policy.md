---
page_title: "pingone_mfa_fido2_policy Resource - terraform-provider-pingone"
subcategory: "MFA"
description: |-
  Resource to create and manage FIDO2 policies in a PingOne environment.
---

# pingone_mfa_fido2_policy (Resource)

Resource to create and manage FIDO2 policies in a PingOne environment.

## Example Usage

```terraform
resource "pingone_environment" "my_environment" {
  # ...
}

resource "pingone_mfa_fido2_policy" "my_awesome_fido2_policy" {
  environment_id = pingone_environment.my_environment.id
  name           = "My awesome FIDO2 policy"

  attestation_requirements = "DIRECT"
  authenticator_attachment = "BOTH"

  backup_eligibility = {
    allow                         = true
    enforce_during_authentication = false
  }

  device_display_name = "Test Device Max"

  discoverable_credentials = "PREFERRED"

  mds_authenticators_requirements = {
    allowed_authenticator_ids = [
      "authenticator_id_1",
      "authenticator_id_3",
      "authenticator_id_2",
    ]

    enforce_during_authentication = true
    option                        = "SPECIFIC"
  }

  relying_party_id = "pingidentity.com"

  user_display_name_attributes = {
    attributes = [
      {
        name = "email"
      },
      {
        name = "name",
        sub_attributes = [
          {
            name = "given"
          },
          {
            name = "family"
          }
        ]
      },
      {
        name = "username"
      }
    ]
  }

  user_verification = {
    enforce_during_authentication = true
    option                        = "REQUIRED"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `attestation_requirements` (String) A string that specifies the level of attestation to apply.  Options are `DIRECT` (perform attestation), `NONE` (don't perform attestation).  If `NONE` is specified, the `mds_authentication_requirements.option` parameter should also be set to `NONE`.
- `authenticator_attachment` (String) A string that specifies the types of authenticators that are allowed.  Options are `BOTH` (allow both categories of authenticators), `CROSS_PLATFORM` (allow use of cross-platform authenticators, which are external to the accessing device (such as a security key)), `PLATFORM` (only allow the use of FIDO device authenticators that contain an internal authenticator (such as a face or fingerprint scanner)).
- `backup_eligibility` (Attributes) A single nested object that contains settings used to control whether users should be allowed to register and authenticate with a device that uses cloud-synced credentials, such as a passkey. (see [below for nested schema](#nestedatt--backup_eligibility))
- `device_display_name` (String) The name to display for the device in registration and authentication windows. Can be up to 100 characters. If you want to use translatable text (configured for each language under **Languages** in the Admin Console), you can use any of the keys listed on the `FIDO Policy` page of the `Self-Service` module and the `Sign On Policy` module. The value of the parameter should include only the part of the key name that comes after the module name, for example, `fidoPolicy.deviceDisplayName01` or `fidoPolicy.deviceDisplayName07`. See each language under the **Languages** section of the admin console UI for the full list of keys. For more information on translatable keys, see [Modifying translatable keys](https://docs.pingidentity.com/access/sources/dita/topic?category=p1&resourceid=pingone_modifying_translatable_keys) in the PingOne documentation.
- `discoverable_credentials` (String) A string that specifies the behaviour when registered users are authenticating without providing credentials.  Options are `DISCOURAGED` (discoverable credentials are not used, even when supported by the FIDO device. In cases where use of discoverable credentials is required by the FIDO device itself, this setting does not override the device setting), `PREFERRED` (use discoverable credentials where possible), `REQUIRED` (require the use of discoverable credentials. This option is required for usernameless authentication).
- `environment_id` (String) The ID of the environment to configure the FIDO2 policy in.  Must be a valid PingOne resource ID.  This field is immutable and will trigger a replace plan if changed.
- `mds_authenticators_requirements` (Attributes) A single nested object that specifies MDS authenticator requirements, used to specify whether attestation is requested from the authenticator, and whether this information is used to restrict authenticator usage. (see [below for nested schema](#nestedatt--mds_authenticators_requirements))
- `name` (String) A string that specifies the unique, friendly name for this FIDO2 policy.
- `relying_party_id` (String) The ID of the relying party. The value should be a domain name, such as `bxretail.org` (in lower-case characters).
- `user_display_name_attributes` (Attributes) A single nested object that specifies the string associated with the users's account that is displayed during registration and authentication. (see [below for nested schema](#nestedatt--user_display_name_attributes))
- `user_verification` (Attributes) A single nested object that specifies user verification settings, used to control whether the user must perform a gesture (such as a public key credential, fingerprint scan, or a PIN code) when registering or authenticating with their FIDO device. (see [below for nested schema](#nestedatt--user_verification))

### Optional

- `description` (String) A string that specifies the description of the FIDO2 policy.
- `user_presence_timeout` (Attributes) A single nested object that specifies the user presence timeout settings, used to control the amount of time a user has to perform a user presence gesture with their FIDO device. (see [below for nested schema](#nestedatt--user_presence_timeout))

### Read-Only

- `default` (Boolean) A boolean that describes whether this policy should serve as the default FIDO policy.
- `id` (String) The ID of this resource.

<a id="nestedatt--backup_eligibility"></a>
### Nested Schema for `backup_eligibility`

Required:

- `allow` (Boolean) A boolean that specifies whether to allow users to register and authenticate with a device that uses cloud-synced credentials.
- `enforce_during_authentication` (Boolean) A boolean that specifies whether the backup eligibility of the device should be checked again at each authentication attempt.  Set to `true` if you want the backup eligibility of the device to be checked again at each authentication attempt and not just once during registration. Set to `false` to have it checked only at registration.


<a id="nestedatt--mds_authenticators_requirements"></a>
### Nested Schema for `mds_authenticators_requirements`

Required:

- `enforce_during_authentication` (Boolean) A boolean that specifies whether devices characteristics related to verification are checked again on each authentication attempt.  Set to `true` if you want the device characteristics related to attestation to be checked again at each authentication attempt and not just once during registration. Set to `false` to have them checked only at registration.
- `option` (String) A string that specifies the types of device that are allowed on the basis of the attestation provided.  Options are `AUDIT_ONLY` (attestation is requested and the information is used for logging purposes, but the information is not used for filtering authenticators), `CERTIFIED` (allow only FIDO Certified authenticators), `GLOBAL` (allow use of all FIDO authenticators listed in the Global Authenticators table), `NONE` (do not request attestation, allow all FIDO devices), `SPECIFIC` (allow only the authenticators specified with the `allowed_authenticator_ids` parameter).

Optional:

- `allowed_authenticator_ids` (Set of String) A set of strings that is used if `option` is set to `SPECIFIC`, to specify the mdsIdentitfer IDs of authenticators that are allowed in the policy.


<a id="nestedatt--user_display_name_attributes"></a>
### Nested Schema for `user_display_name_attributes`

Required:

- `attributes` (Attributes List) A list of objects that describe attributes associated with the users's account that can be displayed during registration and authentication.
    - The content of the list should reflect the preferred order.
    - If the first attribute is empty for the user, PingOne will continue through the list until a non-empty attribute is found.
    - You can specify any user attribute (including custom attributes) that meet the following criteria: attribute type must be String, validation cannot be set to enumerated values.
    - The array must contain the user attribute `username` to ensure that there is at least one non-empty attribute.
    - You can have a maximum of six user attributes in the list. (see [below for nested schema](#nestedatt--user_display_name_attributes--attributes))

<a id="nestedatt--user_display_name_attributes--attributes"></a>
### Nested Schema for `user_display_name_attributes.attributes`

Required:

- `name` (String) The name of the attribute in PingOne, for example `username` or `email`.  The attribute can be any user attribute, including a custom attribute, that is a string data type and does not have enumerated values configured.  If you want to use the `name` attribute for the user (or any attribute that is a complex data type), you must also specify the `sub_attributes` parameter, which can be either the `given` and `family` user attributes or the `formatted` user attribute.

Optional:

- `sub_attributes` (Attributes List) A lsit of objects that describe the sub attributes to use when `name` is configured to use an attribute that is a complex data type. (see [below for nested schema](#nestedatt--user_display_name_attributes--attributes--sub_attributes))

<a id="nestedatt--user_display_name_attributes--attributes--sub_attributes"></a>
### Nested Schema for `user_display_name_attributes.attributes.sub_attributes`

Required:

- `name` (String) The name of a complex attribute's sub attribute in PingOne, for example `given` or `formatted` where the parent object has a name value of `name`.




<a id="nestedatt--user_verification"></a>
### Nested Schema for `user_verification`

Required:

- `enforce_during_authentication` (Boolean) A boolean that specifies whether device characteristics related to user verification are to be checked again at each authentication attempt. Set to `true` if you want the device characteristics related to user verification to be checked again at each authentication attempt and not just once during registration. Set to `false` to have them checked only at registration.
- `option` (String) A string that specifies the type of user verification to perform.  Options are `DISCOURAGED`, `PREFERRED`, `REQUIRED`.  Options are `DISCOURAGED` (user verification is not required, even when supported by the FIDO device. In cases where user verification is required by the FIDO device itself, this setting does not override the device setting), `PREFERRED` (user verification is required if the user's FIDO device supports it, but is not required if the user's device does not support it), `REQUIRED` (only FIDO devices supporting user verification can be used).  For usernameless flows, only FIDO devices supporting user verification can be used, regardless of the value configured in this parameter.


<a id="nestedatt--user_presence_timeout"></a>
### Nested Schema for `user_presence_timeout`

Optional:

- `duration` (Number) The amount of time (minutes or seconds) a user presence gesture will be accepted for the authentication request. Minimum is one minute (60 seconds); maxiumum is ten minutes (600 seconds).
- `time_unit` (String) The units for specifying the amount of time a user presence gesture will be accepted for the authentication request.  Options are `MINUTES`, `SECONDS`.

## Import

Import is supported using the following syntax, where attributes in `<>` brackets are replaced with the relevant ID.  For example, `<environment_id>` should be replaced with the ID of the environment to import from.

```shell
terraform import pingone_mfa_fido2_policy.example <environment_id>/<mfa_fido2_policy_id>
```
