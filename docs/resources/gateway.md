---
page_title: "pingone_gateway Resource - terraform-provider-pingone"
subcategory: "Platform"
description: |-
  Resource to create and manage PingOne gateways.
---

# pingone_gateway (Resource)

Resource to create and manage PingOne gateways.

## Example Usage - LDAP

```terraform
resource "pingone_environment" "my_environment" {
  # ...
}

resource "pingone_gateway" "my_ldap_gateway" {
  environment_id = pingone_environment.my_environment.id
  name           = "My Active Directory"
  enabled        = true
  type           = "LDAP"

  bind_dn       = var.bind_dn
  bind_password = var.bind_password

  connection_security = "TLS"
  vendor              = "Microsoft Active Directory"

  servers = [
    "ds1.bxretail.org:636",
    "ds2.bxretail.org:636",
    "ds3.bxretail.org:636",
  ]

  user_type {
    name               = "User Set 1"
    password_authority = "LDAP"
    search_base_dn     = "ou=users,dc=bxretail,dc=org"

    user_link_attributes = ["objectGUID", "objectSid"]

    user_migration {
      lookup_filter_pattern = "(|(sAMAccountName=$${identifier})(UserPrincipalName=$${identifier}))"

      population_id = pingone_environment.my_environment.default_population_id

      attribute_mapping {
        name  = "username"
        value = "$${ldapAttributes.sAMAccountName}"
      }

      attribute_mapping {
        name  = "email"
        value = "$${ldapAttributes.mail}"
      }
    }

    push_password_changes_to_ldap = true
  }

}
```

## Example Usage - RADIUS

```terraform
resource "pingone_environment" "my_environment" {
  # ...
}

resource "pingone_gateway" "my_radius_gateway" {
  environment_id = pingone_environment.my_environment.id
  name           = "My RADIUS Gateway"
  enabled        = true
  type           = "RADIUS"

  radius_default_shared_secret = var.radius_default_shared_secret
  radius_davinci_policy_id     = var.radius_davinci_policy_id

  radius_client {
    ip = "127.0.0.1"
  }
}
```

## Example Usage - PingFederate

```terraform
resource "pingone_environment" "my_environment" {
  # ...
}

resource "pingone_gateway" "my_awesome_pingfederate_gateway" {
  environment_id = pingone_environment.my_environment.id
  name           = "Advanced Services SSO"
  enabled        = true

  type = "PING_FEDERATE"
}
```

## Example Usage - API Gateway Integration

```terraform
resource "pingone_environment" "my_environment" {
  # ...
}

resource "pingone_gateway" "my_awesome_api_gateway" {
  environment_id = pingone_environment.my_environment.id
  name           = "Awesome API Gateway"
  enabled        = true

  type = "API_GATEWAY_INTEGRATION"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `enabled` (Boolean) Indicates whether the gateway is enabled.
- `environment_id` (String) The ID of the environment to create the gateway in.
- `name` (String) The name of the gateway resource.
- `type` (String) The type of gateway resource. Options are `PING_FEDERATE`, `API_GATEWAY_INTEGRATION`, `LDAP`, `RADIUS` and `PING_INTELLIGENCE`.

### Optional

- `bind_dn` (String) For LDAP gateways only: The distinguished name information to bind to the LDAP database (for example, `uid=pingone,dc=bxretail,dc=org`).
- `bind_password` (String, Sensitive) For LDAP gateways only: The Bind password for the LDAP database.
- `connection_security` (String) For LDAP gateways only: The connection security type. Options are `None`, `TLS`, and `StartTLS`. Defaults to `None`.
- `description` (String) A description to apply to the gateway resource.
- `kerberos_retain_previous_credentials_mins` (Number) For LDAP gateways only: The number of minutes for which the previous credentials are persisted.
- `kerberos_service_account_password` (String, Sensitive) For LDAP gateways only: The password for the Kerberos service account.
- `kerberos_service_account_upn` (String) For LDAP gateways only: The Kerberos service account user principal name (for example, `username@bxretail.org`).
- `radius_client` (Block Set) For RADIUS gateways only: A collection of RADIUS clients. (see [below for nested schema](#nestedblock--radius_client))
- `radius_davinci_policy_id` (String) For RADIUS gateways only: The ID of the DaVinci flow policy to use.
- `radius_default_shared_secret` (String, Sensitive) For RADIUS gateways only: Value to use for the shared secret if the shared secret is not provided for one or more of the RADIUS clients specified.
- `servers` (Set of String) For LDAP gateways only: A list of LDAP server host name and port number combinations (for example, [`ds1.bxretail.org:636`, `ds2.bxretail.org:636`]).
- `user_type` (Block Set) For LDAP gateways only: A collection of properties that define how users should be provisioned in PingOne. The `user_type` block specifies which user properties in PingOne correspond to the user properties in an external LDAP directory. You can use an LDAP browser to view the user properties in the external LDAP directory. (see [below for nested schema](#nestedblock--user_type))
- `validate_tls_certificates` (Boolean) For LDAP gateways only: Indicates whether or not to trust all SSL certificates (defaults to `true`). If this value is `false`, TLS certificates are not validated. When the value is set to `true`, only certificates that are signed by the default JVM CAs, or the CA certs that the customer has uploaded to the certificate service are trusted. Defaults to `true`.
- `vendor` (String) For LDAP gateways only: The LDAP vendor. Options are `PingDirectory`, `Microsoft Active Directory`, `Oracle Directory Server Enterprise Edition`, `Oracle Unified Directory`, `CA Directory`, `OpenDJ Directory`, `IBM (Tivoli) Security Directory Server`, and `LDAP v3 compliant Directory Server`.

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--radius_client"></a>
### Nested Schema for `radius_client`

Required:

- `ip` (String) The IP of the RADIUS client.

Optional:

- `shared_secret` (String, Sensitive) The shared secret for the RADIUS client. If this value is not provided, the shared secret specified with `default_shared_secret` is used. If you are not providing a shared secret for the client, this parameter is optional.


<a id="nestedblock--user_type"></a>
### Nested Schema for `user_type`

Required:

- `name` (String) The name of the user type.
- `password_authority` (String) This can be either `PING_ONE` or `LDAP`. If set to `PING_ONE`, PingOne authenticates with the external directory initially, then PingOne authenticates all subsequent sign-ons.
- `search_base_dn` (String) The LDAP base domain name (DN) for this user type.
- `user_link_attributes` (List of String) A list of strings that represent LDAP attribute names that uniquely identify the user, and link to users in PingOne.

Optional:

- `push_password_changes_to_ldap` (Boolean) A boolean that determines whether password updates in PingOne should be pushed to the user's record in LDAP.  If false, the user cannot change the password and have it updated in the remote LDAP directory. In this case, operations for forgotten passwords or resetting of passwords are not available to a user referencing this gateway. Defaults to `false`.
- `user_migration` (Block List, Max: 1) The configurations for initially authenticating new users who will be migrated to PingOne. Note: If there are multiple users having the same user name, only the first user processed is provisioned. (see [below for nested schema](#nestedblock--user_type--user_migration))

Read-Only:

- `id` (String) Identifies the user type. This correlates to the `password.external.gateway.userType.id` User property.

<a id="nestedblock--user_type--user_migration"></a>
### Nested Schema for `user_type.user_migration`

Required:

- `attribute_mapping` (Block Set, Min: 1) A collection of properties that define how users should be provisioned in PingOne. The `user_type` block specifies which user properties in PingOne correspond to the user properties in an external LDAP directory. You can use an LDAP browser to view the user properties in the external LDAP directory. (see [below for nested schema](#nestedblock--user_type--user_migration--attribute_mapping))
- `lookup_filter_pattern` (String) The LDAP user search filter to use to match users against the entered user identifier at login. For example, `(((uid=${identifier})(mail=${identifier}))`. Alternatively, this can be a search against the user directory.
- `population_id` (String) The ID of the population to use to create user entries during lookup.

<a id="nestedblock--user_type--user_migration--attribute_mapping"></a>
### Nested Schema for `user_type.user_migration.attribute_mapping`

Required:

- `name` (String) The name of a user attribute in PingOne. See [Users properties](https://apidocs.pingidentity.com/pingone/platform/v1/api/#users) for the complete list of available PingOne user attributes.
- `value` (String) A reference to the corresponding external LDAP attribute.  Values are in the format `${ldapAttributes.mail}`, while Terraform HCL requires an additional `$` prefix character. For example, `$${ldapAttributes.mail}`

## Import

Import is supported using the following syntax:

```shell
$ terraform import pingone_gateway.example <environment_id>/<gateway_id>
```
