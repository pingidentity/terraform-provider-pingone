---
page_title: "pingone_application_flow_policy_assignment Resource - terraform-provider-pingone"
subcategory: "SSO"
description: |-
  Resource to create and manage a DaVinci flow policy assignment for an administrator defined application or built-in system applications configured in PingOne.
---

# pingone_application_flow_policy_assignment (Resource)

Resource to create and manage a DaVinci flow policy assignment for an administrator defined application or built-in system applications configured in PingOne.

~> This resource is for assignment of a DaVinci flow policy only.  For assignment of a PingOne native sign-on policy, use the `pingone_application_sign_on_policy_assignment` resource.

-> Flow policies can be mapped to administrator defined applications that are managed through the `pingone_application` resource, and built-in system applications that are managed through the `pingone_system_application` resource.

## Example Usage

The following example includes a `davinci_application` resource.  More information about the use of the `davinci_application` resource, and other DaVinci provider resources can be found at the [DaVinci Provider registry documentation](https://registry.terraform.io/providers/pingidentity/davinci/latest/docs).

```terraform
resource "pingone_environment" "my_environment" {
  # ...
}

resource "pingone_application" "my_application" {
  # ...
}

resource "davinci_application" "davinci_app" {
  environment_id = pingone_environment.my_environment.id

  name = "Awesome DaVinci Application"

  oauth {
    enabled = true
    values {
      allowed_grants                = ["authorizationCode"]
      allowed_scopes                = ["openid", "profile"]
      enabled                       = true
      enforce_signed_request_openid = false
      redirect_uris                 = [var.redirect_uri]
    }
  }

  policy {
    name   = "Flow Policy"
    status = "enabled"
    policy_flow {
      flow_id    = var.davinci_flow_id
      version_id = -1
      weight     = 100
    }
  }

  policy {
    name   = "Second Flow Policy"
    status = "enabled"
    policy_flow {
      flow_id    = var.second_davinci_flow_id
      version_id = -1
      weight     = 100
    }
  }

  saml {
    values {
      enabled                = false
      enforce_signed_request = false
    }
  }
}

resource "pingone_application_flow_policy_assignment" "foo" {
  environment_id = pingone_environment.my_environment.id
  application_id = pingone_application.my_application.id

  flow_policy_id = davinci_application.davinci_app.policy.* [index(davinci_application.davinci_app.policy[*].name, "Flow Policy")].policy_id

  priority = 1
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `application_id` (String) The ID of the application to create the flow policy assignment for.

-> The value for `application_id` may come from the `id` attribute of the `pingone_application` or `pingone_system_application` resources or data sources.
- `environment_id` (String) The ID of the environment to create the application flow policy assignment in.
- `flow_policy_id` (String) The ID of the DaVinci flow policy to associate.
- `priority` (Number) The order in which the policy referenced by this assignment is evaluated during an authentication flow relative to other policies. An assignment with a lower priority will be evaluated first.

### Read-Only

- `id` (String) The ID of this resource.

## Import

Import is supported using the following syntax, where attributes in `<>` brackets are replaced with the relevant ID.  For example, `<environment_id>` should be replaced with the ID of the environment to import from.

```shell
$ terraform import pingone_application_flow_policy_assignment.example <environment_id>/<application_id>/<policy_assignment_id>
```
