---
page_title: "pingone_mfa_settings Resource - terraform-provider-pingone"
subcategory: "MFA"
description: |-
  Resource to manage the MFA settings for a PingOne environment.
---

# pingone_mfa_settings (Resource)

Resource to manage the MFA settings for a PingOne environment.

~> Only one `pingone_mfa_settings` resource should be configured for an environment.  If multiple `pingone_mfa_settings` resource definitions exist in HCL code, these are likely to conflict with each other on apply.

## Example Usage

```terraform
resource "pingone_mfa_settings" "mfa_settings" {
  environment_id = pingone_environment.my_environment.id

  pairing = {
    max_allowed_devices = 5
    pairing_key_format  = "ALPHANUMERIC"
  }

  lockout = {
    failure_count    = 5
    duration_seconds = 600
  }

  phone_extensions = {
    enabled = true
  }

  users = {
    mfa_enabled = true
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `environment_id` (String) The ID of the environment to manage MFA settings for.  Must be a valid PingOne resource ID.  This field is immutable and will trigger a replace plan if changed.
- `pairing` (Attributes) A single object that contains information about the MFA policy device pairing settings. (see [below for nested schema](#nestedatt--pairing))

### Optional

- `lockout` (Attributes) A single object that contains information about the MFA policy lockout settings. (see [below for nested schema](#nestedatt--lockout))
- `phone_extensions` (Attributes) A single object that contains settings for phone extension support. (see [below for nested schema](#nestedatt--phone_extensions))
- `users` (Attributes) A single object that contains information about the default settings for new users. (see [below for nested schema](#nestedatt--users))

<a id="nestedatt--pairing"></a>
### Nested Schema for `pairing`

Required:

- `pairing_key_format` (String) A string that controls the type of pairing key issued.  Options are `ALPHANUMERIC` (16-character alphanumeric key), `NUMERIC` (12-digit key).

Optional:

- `max_allowed_devices` (Number) An integer that defines the maximum number of MFA devices each user can have. This can be any number up to 15. The default value is 5.  All devices that are Active or Blocked are subject to this limit.


<a id="nestedatt--lockout"></a>
### Nested Schema for `lockout`

Required:

- `failure_count` (Number) An integer that defines the maximum number of incorrect authentication attempts before the account is locked.

Optional:

- `duration_seconds` (Number) An integer that defines the number of seconds to keep the account in a locked state


<a id="nestedatt--phone_extensions"></a>
### Nested Schema for `phone_extensions`

Required:

- `enabled` (Boolean) A boolean when set to `true` to allow one-time passwords to be delivered via voice to phone numbers that include extensions. Set to `false` to disable support for phone numbers with extensions. By default, support for extensions is disabled.


<a id="nestedatt--users"></a>
### Nested Schema for `users`

Required:

- `mfa_enabled` (Boolean) A boolean that, when set to `true`, will enable MFA by default for new users.

## Import

Import is supported using the following syntax, where attributes in `<>` brackets are replaced with the relevant ID.  For example, `<environment_id>` should be replaced with the ID of the environment to import from.

```shell
$ terraform import pingone_mfa_settings.example <environment_id>
```
